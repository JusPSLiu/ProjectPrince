[gd_scene load_steps=17 format=2]

[ext_resource path="res://Scenes/BossLevelDecor.tscn" type="PackedScene" id=1]
[ext_resource path="res://Art/Placeholder Art/Sprites/08-Box/Idle.png" type="Texture" id=2]
[ext_resource path="res://Scenes/EnvironmentTools/DeathField.tscn" type="PackedScene" id=3]
[ext_resource path="res://Scenes/EnvironmentTools/EnemySpawner.tscn" type="PackedScene" id=4]
[ext_resource path="res://Scenes/EnvironmentTools/EnemyBarrier.tscn" type="PackedScene" id=5]
[ext_resource path="res://Scenes/Rival.tscn" type="PackedScene" id=6]
[ext_resource path="res://Art/Tilemaps/FewTiles/DungeonWall.png" type="Texture" id=7]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 21, 20 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 432, 4 )

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 480, 4 )

[sub_resource type="RectangleShape2D" id=4]
extents = Vector2( 0.5, 8 )

[sub_resource type="Animation" id=19]
resource_name = "BossHit"
length = 5.0
tracks/0/type = "method"
tracks/0/path = NodePath("Rival")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.5, 1, 1.5, 2 ),
"transitions": PoolRealArray( 1, 1, 1, 1, 1 ),
"values": [ {
"args": [ true ],
"method": "pausePlayer"
}, {
"args": [ 0, 0.4 ],
"method": "MoveCamera"
}, {
"args": [ 1.0 ],
"method": "MoveRival"
}, {
"args": [ 3, 0.4 ],
"method": "MoveCamera"
}, {
"args": [ false ],
"method": "pausePlayer"
} ]
}

[sub_resource type="Animation" id=8]
resource_name = "EnteredBossBattle"
length = 10.0
tracks/0/type = "value"
tracks/0/path = NodePath("EntryDoor/DoorSprite:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("EntryDoor/DoorCollisionShape2D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/2/type = "method"
tracks/2/path = NodePath("Rival")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 0.5, 3.5, 5.5 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"values": [ {
"args": [ true ],
"method": "pausePlayer"
}, {
"args": [ false, 2.0 ],
"method": "MoveCamera"
}, {
"args": [ true, 2.0 ],
"method": "MoveCamera"
}, {
"args": [ false ],
"method": "pausePlayer"
} ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("Rival/EnvironmentDetectors/PlayerEnteredBoss/CollisionShape2D:disabled")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/4/type = "value"
tracks/4/path = NodePath("SpawnerHolder/BatSpawnerLeft:canSpawn")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"times": PoolRealArray( 5.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/5/type = "value"
tracks/5/path = NodePath("SpawnerHolder/BatSpawnerRight:canSpawn")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PoolRealArray( 5.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("SpawnerHolder/KnightSpawnerLeft:canSpawn")
tracks/6/interp = 1
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PoolRealArray( 5.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("SpawnerHolder/KnightSpawnerLeft2:canSpawn")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PoolRealArray( 5.5 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}

[sub_resource type="Animation" id=9]
resource_name = "RESET"
tracks/0/type = "value"
tracks/0/path = NodePath("EntryDoor/DoorSprite:visible")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("EntryDoor/DoorCollisionShape2D:disabled")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ true ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Rival/EnvironmentDetectors/PlayerEnteredBoss/CollisionShape2D:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 1,
"values": [ false ]
}

[sub_resource type="AnimationNodeStateMachinePlayback" id=18]

[sub_resource type="RectangleShape2D" id=17]
extents = Vector2( 8, 56 )

[node name="BossLevel" type="Control"]
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Environment" parent="." instance=ExtResource( 1 )]

[node name="MovableObject" type="RigidBody2D" parent="." groups=["MoveableObject"]]
position = Vector2( 863, 130 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="MovableObject"]
position = Vector2( 7, -6 )
scale = Vector2( 2, 2.5 )
texture = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="MovableObject"]
visible = false
position = Vector2( 6, -6 )
shape = SubResource( 1 )

[node name="MovableObject2" type="RigidBody2D" parent="." groups=["MoveableObject"]]
position = Vector2( 1061, 130 )
__meta__ = {
"_edit_group_": true
}

[node name="Sprite" type="Sprite" parent="MovableObject2"]
position = Vector2( 7, -6 )
scale = Vector2( 2, 2.5 )
texture = ExtResource( 2 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="MovableObject2"]
visible = false
position = Vector2( 6, -6 )
shape = SubResource( 1 )

[node name="DeathField" parent="." instance=ExtResource( 3 )]
position = Vector2( 968, -208 )
hurtEnemy = true

[node name="CollisionShape2D" parent="DeathField" index="0"]
position = Vector2( 8, 4 )
shape = SubResource( 2 )

[node name="DeathField2" parent="." instance=ExtResource( 3 )]
position = Vector2( 968, 408 )
hurtPlayer = true

[node name="CollisionShape2D" parent="DeathField2" index="0"]
position = Vector2( 8, 4 )
shape = SubResource( 3 )

[node name="SpawnerHolder" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0

[node name="BatSpawnerLeft" parent="SpawnerHolder" instance=ExtResource( 4 )]
margin_left = 520.0
margin_top = 392.0
margin_right = 560.0
margin_bottom = 432.0
timeToSpawn = 1.0
maxEnemiesSpawned = 5
vSpeed = -10
canSpawn = true

[node name="BatSpawnerRight" parent="SpawnerHolder" instance=ExtResource( 4 )]
margin_left = 1432.0
margin_top = 392.0
margin_right = 1472.0
margin_bottom = 432.0
timeToSpawn = 1.0
maxEnemiesSpawned = 20
iHSpeed = -600
vSpeed = -10
canSpawn = true

[node name="KnightSpawnerLeft" parent="SpawnerHolder" instance=ExtResource( 4 )]
margin_left = 512.0
margin_top = -168.0
margin_right = 552.0
margin_bottom = -128.0
EnemyType = 1
timeToSpawn = 2.0
maxEnemiesSpawned = 20
hSpeed = 100
maxVSpeed = 500
gravity = 10
direction = 3
canSpawn = true

[node name="KnightSpawnerLeft2" parent="SpawnerHolder" instance=ExtResource( 4 )]
margin_left = 1440.0
margin_top = -168.0
margin_right = 1480.0
margin_bottom = -128.0
EnemyType = 1
timeToSpawn = 2.0
maxEnemiesSpawned = 20
hSpeed = 100
maxVSpeed = 500
gravity = 10
direction = 2
canSpawn = true

[node name="EnemyBarriers" type="Control" parent="."]
margin_right = 40.0
margin_bottom = 40.0
rect_pivot_offset = Vector2( 738, -17 )

[node name="EnemyBarrier" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 728, -72 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier" index="0"]
position = Vector2( 7.5, 0 )
shape = SubResource( 4 )

[node name="EnemyBarrier2" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 728, 72 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier2" index="0"]
position = Vector2( 7.5, 0 )
shape = SubResource( 4 )

[node name="EnemyBarrier3" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 536, 136 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier3" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="EnemyBarrier4" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 728, 216 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier4" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="EnemyBarrier5" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 1193, -72 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier5" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="EnemyBarrier6" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 1193, 72 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier6" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="EnemyBarrier7" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 1401, 136 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier7" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="EnemyBarrier8" parent="EnemyBarriers" instance=ExtResource( 5 )]
position = Vector2( 1193, 216 )
detectKnight = true

[node name="CollisionShape2D" parent="EnemyBarriers/EnemyBarrier8" index="0"]
position = Vector2( 7.5, -0.5 )
shape = SubResource( 4 )

[node name="BossBattlePlayer" type="AnimationPlayer" parent="."]
pause_mode = 2
autoplay = "RESET"
anims/BossHit = SubResource( 19 )
anims/EnteredBossBattle = SubResource( 8 )
anims/RESET = SubResource( 9 )

[node name="Rival" parent="." instance=ExtResource( 6 )]
position = Vector2( 968, 120 )

[node name="RivalAnimationTree" parent="Rival" index="3"]
parameters/playback = SubResource( 18 )

[node name="PlayerEnteredBoss" parent="Rival/EnvironmentDetectors" index="0"]
position = Vector2( -158, 37 )

[node name="CollisionShape2D" parent="Rival/EnvironmentDetectors/PlayerEnteredBoss" index="0"]
position = Vector2( -6, -49 )

[node name="EntryDoor" type="StaticBody2D" parent="."]
position = Vector2( 536, 88 )

[node name="DoorSprite" type="Sprite" parent="EntryDoor"]
visible = false
scale = Vector2( 1, 7 )
texture = ExtResource( 7 )

[node name="DoorCollisionShape2D" type="CollisionShape2D" parent="EntryDoor"]
shape = SubResource( 17 )
disabled = true

[node name="ExitDoor" type="StaticBody2D" parent="."]
position = Vector2( 1416, 88 )
__meta__ = {
"_edit_group_": true
}

[node name="DoorSprite" type="Sprite" parent="ExitDoor"]
scale = Vector2( 1, 7 )
texture = ExtResource( 7 )

[node name="DoorCollisionShape2D" type="CollisionShape2D" parent="ExitDoor"]
shape = SubResource( 17 )

[node name="Princess" type="Sprite" parent="."]

[node name="AnimationPlayer" type="AnimationPlayer" parent="Princess"]

[editable path="DeathField"]
[editable path="DeathField2"]
[editable path="SpawnerHolder/BatSpawnerLeft"]
[editable path="SpawnerHolder/BatSpawnerRight"]
[editable path="EnemyBarriers/EnemyBarrier"]
[editable path="EnemyBarriers/EnemyBarrier2"]
[editable path="EnemyBarriers/EnemyBarrier3"]
[editable path="EnemyBarriers/EnemyBarrier4"]
[editable path="EnemyBarriers/EnemyBarrier5"]
[editable path="EnemyBarriers/EnemyBarrier6"]
[editable path="EnemyBarriers/EnemyBarrier7"]
[editable path="EnemyBarriers/EnemyBarrier8"]
[editable path="Rival"]
